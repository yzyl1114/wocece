<!DOCTYPE html>
<html>
<head>
    <title>æœ€ç»ˆæ··æ·†æµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
        .info { margin: 10px 0; padding: 10px; background: #f5f5f5; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>JavaScriptæ··æ·†æµ‹è¯•</h1>
    <div class="info">
        åŸå§‹æ–‡ä»¶: 54KB<br>
        æ··æ·†å: 30KB<br>
        å‹ç¼©ç‡: 45.0%
    </div>
    <div id="status">åŠ è½½JavaScript...</div>
    
    <script src="js-dist/calculation.final.js"></script>
    <script>
        window.onload = function() {
            const statusEl = document.getElementById('status');
            
            try {
                // æµ‹è¯•1: CalculationManageræ˜¯å¦å­˜åœ¨
                if (typeof calculationManager === 'undefined') {
                    statusEl.innerHTML = '<span class="error">âŒ CalculationManageræœªå®šä¹‰</span>';
                    return;
                }
                
                statusEl.innerHTML = '<span class="success">âœ… CalculationManageråŠ è½½æˆåŠŸ</span>';
                
                // æµ‹è¯•2: æ ¸å¿ƒå‡½æ•°æ˜¯å¦å­˜åœ¨
                const tests = [
                    { name: 'calculateResult', fn: calculationManager.calculateResult },
                    { name: 'calculateSCL90', fn: calculationManager.calculateSCL90 },
                    { name: 'calculateAnimalPersonality', fn: calculationManager.calculateAnimalPersonality }
                ];
                
                let allTestsPassed = true;
                tests.forEach(test => {
                    if (typeof test.fn !== 'function') {
                        console.error('âŒ å‡½æ•°ä¸å­˜åœ¨:', test.name);
                        allTestsPassed = false;
                    } else {
                        console.log('âœ… å‡½æ•°å¯ç”¨:', test.name);
                    }
                });
                
                if (allTestsPassed) {
                    statusEl.innerHTML += '<br><span class="success">âœ… æ‰€æœ‰æ ¸å¿ƒå‡½æ•°æµ‹è¯•é€šè¿‡</span>';
                    console.log('ğŸ‰ æ··æ·†æµ‹è¯•å®Œæˆï¼Œä»£ç åŠŸèƒ½æ­£å¸¸ï¼');
                } else {
                    statusEl.innerHTML += '<br><span class="error">âŒ éƒ¨åˆ†å‡½æ•°æµ‹è¯•å¤±è´¥</span>';
                }
                
            } catch (error) {
                statusEl.innerHTML = '<span class="error">âŒ é”™è¯¯: ' + error.message + '</span>';
                console.error('æµ‹è¯•é”™è¯¯:', error);
            }
        };
    </script>
</body>
</html>